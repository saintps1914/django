{% extends 'base.html' %}

{% block styles %}
{% endblock %}

{% block content %}
    <style>
        body {
            font-family: Arial, sans-serif;
            background-color: #f2f2f2;
            margin: 0;
            padding: 0;
        }
        .container {
            max-width: 1000px;
            margin: 50px auto;
            padding: 20px;
            background-color: #fff;
            border-radius: 10px;
            box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
        }
        h1 {
            text-align: center;
            color: #333;
        }
        .result {
            margin-top: 30px;
            text-align: center;
            font-size: 24px;
        }
        .red { color: red; animation: fadein 2s; }
        .green { color: green; animation: fadein 2s; }
        .orange { color: orange; animation: fadein 2s; }

        @keyframes fadein {
            from { opacity: 0; }
            to   { opacity: 1; }
        }
        .question {
            font-family: Arial, sans-serif;
            text-align: justify;
            text-align-last: justify;
            position: relative;
            margin-bottom: 5px;
        }

        .question span {
            position: absolute; /* Абсолютное позиционирование */
            right: 0; /* Располагаем текст справа */
            top: 0; /* Располагаем текст сверху */
            padding-left: 10px; /* Добавляем отступ слева для текста */
            margin-top: 5px;
        }

        .question label {
            display: inline-block;
            max-width: 60%; /* Установите желаемую максимальную ширину */
        }
        button[type="button"] {
            background-color: #ccc; /* Серый цвет */
            color: #fff;
            border: none;
            padding: 10px 20px;
            border-radius: 5px;
            cursor: pointer;
            font-size: 16px;
            width: 350px;
            margin-top: 10px; /* Отступ сверху */
            transition: background-color 0.3s ease; /* Плавное изменение цвета фона */
        }

        button[type="button"]:hover {
            background-color: #aaa; /* Темнее серый цвет при наведении */
        }

        select {
            width: 25%;
            padding: 10px;
            font-size: 16px;
            border: 1px solid #ccc;
            border-radius: 5px;
            margin-right: 5%;
            appearance: none;
            -webkit-appearance: none;
            -moz-appearance: none;
            background-color: #fff;
            cursor: pointer;
        }

        select:focus {
            outline: none;
            border-color: #007bff;
            box-shadow: 0 0 5px rgba(0, 123, 255, 0.5);
        }

        option {
            padding: 10px;
        }

        #counter {
            font-family: Arial, sans-serif;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            font-weight: bold;


        #counter span {
            font-family: Arial, sans-serif;
            margin-bottom: 3px;
            font-weight: bold;
        }
        #redCount {
            color: red; /* Красный цвет для плохих факторов */
            font-weight: bold;
        }

        #greenCount {
            color: green; /* Зеленый цвет для хороших факторов */
            font-weight: bold;
        }

        #orangeCount {
            color: orange; /* Оранжевый цвет для факторов, которые не являются хорошими или плохими */
            font-weight: bold;
        }
    </style>
    
    <div class="container">
        <h1>Check list</h1>
        <form id="feedbackForm">
            <div id="questions">
                <div class="question">
                    <label for="question1">Do you own a company?</label>
                    <select id="question1" onchange="updateFeedback(this)">
                        <option value=""></option>
                        <option value="red">No</option>
                        <option value="green">Yes</option>
                    </select>
                    <span id="feedback1"></span>
                </div>
                <div class="question">
                    <label for="question2">When was it opened?  How old is your business?</label>
                    <select id="question2" onchange="updateFeedback(this)">
                        <option value=""></option>
                        <option value="red">0y-1y</option>
                        <option value="green">More than 2y</option>
                        <option value="orange">1y-2y</option>
                    </select>
                    <span id="feedback2"></span>
                </div>
                <div class="question">
                    <label for="question3">How many years have you held a CDL in the USA?</label>
                    <select id="question3" onchange="updateFeedback(this)">
                        <option value=""></option>
                        <option value="red">0y-1y</option>
                        <option value="green">More than 2y</option>
                        <option value="orange">1y-2y</option>
                    </select>
                    <span id="feedback3"></span>
                </div>
                <div class="question">
                    <label for="question4">How good is your credit?</label>
                    <select id="question4" onchange="updateFeedback(this)">
                        <option value=""></option>
                        <option value="red">Less than 650</option>
                        <option value="green">More than 700</option>
                        <option value="orange">650-700</option>
                    </select>
                    <span id="feedback4"></span>
                </div>
                <div class="question">
                    <label for="question5">Do you have any autoloans with 12+ months payments or paid off autoloans?</label>
                    <select id="question5" onchange="updateFeedback(this)">
                        <option value=""></option>
                        <option value="green">Yes</option>
                        <option value="red">No</option>
                    </select>
                    <span id="feedback5"></span>
                </div>
                <div class="question">
                    <label for="question6">Are you a homeowner</label>
                    <select id="question6" onchange="updateFeedback(this)">
                        <option value=""></option>
                        <option value="green">Yes</option>
                        <option value="red">No</option>
                    </select>
                    <span id="feedback6"></span>
                </div>
                <div class="question">
                    <label for="question7">How many trucks and trailers are you currently operating?</label>
                    <select id="question7" onchange="updateFeedback(this)">
                        <option value=""></option>
                        <option value="green">More than 3</option>
                        <option value="orange">1-3</option>
			<option value="red">No</option>
                    </select>
                    <span id="feedback7"></span>
                </div>
                <div class="question">
                    <label for="question8">What is your average monthly ending balance for the last 3 months?</label>
                    <select id="question8" onchange="updateFeedback(this)">
                        <option value=""></option>
                        <option value="red">Less than 5k</option>
                        <option value="green">More than 10k</option>
                        <option value="orange">5-10k</option>
                    </select>
                    <span id="feedback8"></span>
                </div>
                <div class="question">
                    <label for="question9">What was the interest rate for your last approved unit?</label>
                    <select id="question9" onchange="updateFeedback(this)">
                        <option value=""></option>
                        <option value="red">More than 18%</option>
                        <option value="green">Less than 14%</option>
                        <option value="orange">14%-18%</option>
                    </select>
                    <span id="feedback9"></span>
                </div>
                <div class="question">
                    <label for="question10">Do you have any negative days on your bank statements?</label>
                    <select id="question10" onchange="updateFeedback(this)">
                        <option value=""></option>
                        <option value="red">Yes</option>
                        <option value="green">No</option>
                    </select>
                    <span id="feedback10"></span>
                </div>
                <div class="question">
                    <label for="question11">Have you ever filed for bankruptcy? If yes, what year?</label>
                    <select id="question11" onchange="updateFeedback(this)">
                        <option value=""></option>
                        <option value="red">Yes, in the last 5 years</option>
                        <option value="green">No</option>
                        <option value="orange">Yes, more than 5 years ago</option>
                    </select>
                    <span id="feedback11"></span>
                </div>
                <div class="question">
                    <label for="question12">Have you had any collections in the past? If yes, what year?</label>
                    <select id="question12" onchange="updateFeedback(this)">
                        <option value=""></option>
                        <option value="red">Yes, in the last 5 years</option>
                        <option value="green">No</option>
                        <option value="orange">Yes, more than 5 years ago</option>
                    </select>
                    <span id="feedback12"></span>
                </div>
                <div class="question">
                    <label for="question13">What is your residency status in the country?</label>
                    <select id="question13" onchange="updateFeedback(this)">
                        <option value=""></option>
                        <option value="green">Greencard\US Citizen</option>
                        <option value="orange">Work Permit</option>
                    </select>
                    <span id="feedback13"></span>
                </div>
                <div class="question">
                    <label for="question14">Do you have any open judgments against you or your business?</label>
                    <select id="question14" onchange="updateFeedback(this)">
                        <option value=""></option>
                        <option value="red">Yes</option>
                        <option value="green">No</option>
                    </select>
                    <span id="feedback14"></span>
                </div>

                <!-- Добавьте больше вопросов по аналогии -->
            </div>
            <button type="button" onclick="resetForm()">RESET FORM</button>
        </form>
    </div>
    <div id="counter">
        BAD factors: <span id="redCount">0</span><br>
        GOOD factors: <span id="greenCount">0</span><br>
        Neither good nor bad: <span id="orangeCount">0</span>
    </div>
    <br>
    <br>
    <br>
    <br>
    <br>
    <br>
    <br>
    <br>
    <br>
    <br>
    

    <script>
        var redCount = 0;
        var greenCount = 0;
        var orangeCount = 0;

        function updateCounter(value, previousValue) {
            switch (previousValue) {
                case 'red':
                    redCount--;
                    document.getElementById('redCount').textContent = redCount;
                    break;
                case 'green':
                    greenCount--;
                    document.getElementById('greenCount').textContent = greenCount;
                    break;
                case 'orange':
                    orangeCount--;
                    document.getElementById('orangeCount').textContent = orangeCount;
                    break;
                default:
                    break;
            }

            switch (value) {
                case 'red':
                    redCount++;
                    document.getElementById('redCount').textContent = redCount;
                    break;
                case 'green':
                    greenCount++;
                    document.getElementById('greenCount').textContent = greenCount;
                    break;
                case 'orange':
                    orangeCount++;
                    document.getElementById('orangeCount').textContent = orangeCount;
                    break;
                default:
                    break;
            }
        }

        function updateFeedback(selectElement) {
            var feedbackElement = document.getElementById('feedback' + selectElement.id.substring(8));
            var selectedValue = selectElement.value;
            var previousValue = feedbackElement.className; // Get the previous value

            var displayText = '';

            switch (selectedValue) {
                case 'red':
                    displayText = 'BAD';
                    break;
                case 'green':
                    displayText = 'GOOD';
                    break;
                case 'orange':
                    displayText = 'OK';
                    break;
                default:
                    displayText = '';
                    break;
            }

            feedbackElement.className = selectedValue;
            feedbackElement.textContent = displayText;

            updateCounter(selectedValue, previousValue); // Update the counter with both values
        }


        function resetForm() {
            var selectElements = document.querySelectorAll('select');
            for (var i = 0; i < selectElements.length; i++) {
                selectElements[i].selectedIndex = 0;
                var feedbackElement = document.getElementById('feedback' + (i + 1));
                feedbackElement.className = '';
                feedbackElement.textContent = '';
            }

            redCount = 0;
            greenCount = 0;
            orangeCount = 0;

            document.getElementById('redCount').textContent = '0';
            document.getElementById('greenCount').textContent = '0';
            document.getElementById('orangeCount').textContent = '0';
        }
    </script>
    
{% endblock %}

{% block footer %}
    {{ block.super }}
    <!-- Дополнительный контент для подвала -->
{% endblock %}